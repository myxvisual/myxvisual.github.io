"use strict";var e="dataCache-v1",t="staticCache",n=["/","/index.html","/init.js","/static/vendors.prod.dll.js"];self.addEventListener("install",function(e){console.log("[ServiceWorker] Install"),e.waitUntil(caches.open(t).then(function(e){return console.log("[ServiceWorker] Caching app shell"),e.addAll(n)}))}),self.addEventListener("activate",function(n){return console.log("[ServiceWorker] Activate"),n.waitUntil(caches.keys().then(function(n){return Promise.all(n.map(function(n){if(n!==t&&n!==e)return console.log("[ServiceWorker] Removing old cache",n),caches.delete(n)}))})),self.clients.claim()}),self.addEventListener("fetch",function(t){console.log("[Service Worker] Fetch",t.request.url);var n="https://query.yahooapis.com/v1/public/yql",c=/init\.js$|service-worker\.js$\/static\/(fonts|images|media)$|\.index\.html$|\.appcache$/g,r=t.request.url;c.test(r)||t.request.url.indexOf(n)>-1?(console.log("Application Cache Url: "+r),t.respondWith(caches.open(e).then(function(e){return fetch(t.request).then(function(n){return e.put(t.request.url,n.clone()),n})}))):t.respondWith(caches.match(t.request).then(function(e){return e||fetch(t.request)}))});